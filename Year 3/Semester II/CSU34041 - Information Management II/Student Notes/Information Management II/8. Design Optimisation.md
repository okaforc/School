[[CSU34041 08a Design Opt Using Funct Dep and Normalisation.pdf]]

## Database Design
![[Pasted image 20230322160513.png]]

- Need formal method for analysus how relations and attributes are grouped
- Measure of appropriateness or quality


### Design guidelines
Set of informal guidelines
1. Attribute Semantics 
2. Reduction of Redundancy 
3. Reduction of NULLs
4. Generation of Spurious Tuples

Not always independent, measures to determine quality of schema

#### 1. Attribute Semantics
- Attributes have a real world meaning!
- Semantics of a relation
	=> its meaning resulting from interpretation of attribute values in a tuple
- Carefull ER modelling + accurate mapping to logical design ensure relational schema design has **clear meaning**

##### Guideline 1
1. Design a relation schema so it is *easy* to explain its meaning
2. Give relations and attributes *meaningful names*
3. Do not combine attributes from multiple entry types + relationship types into 1 relation
	- Should be straightforward to interpret 
	- Easy to explain its meaning

###### Violation of Guideline 1
![[Pasted image 20230322161057.png]]
Mix attribute from distinct real world entities
- Employee and department
- Project and employee

#### 2. Reduction of Redundancy
- Minimise storage space used!
- Grouping attributes into relation schemas affects storage space
(compare this with above, far more efficient)
![[Pasted image 20230322161413.png]]

- Storing merged entities (like the breach of guideline 1 above) leads to *update anomalies*

##### Update anomalies
![[Pasted image 20230322161355.png]]

###### Insertion Anomalies
To insert new employee, must include either
1. ALL attribute valyes for department 
2. NULLs if employee not yet assigned

Consistency is an issue, as is inserting a new department

###### Deletion Anomalies

Deletion of employees and departments completely linked!
if last employee from department deleted, department is gone

###### Modification Anomalies
- Consistency becomes an issue
- Manager of dept changed, every employee must be changed!!!
- Out of sync


##### Guideline 2
Design the relation schemas so that no insertion, deletion or modification anomalies are present
- if anomalies are present, note them clearly and ensure all application programs operate correctly

#### 3. Reduction of NULLS
If many attributes do not apply to all the tuples of a relation, you end up with many NULL values in those tuples
- Wastes space
- Makes understanding attributes confusing
- Leads to difficulties with Joins/aggregate functions

Also
NULL value has 2 interpretations!
1. Missing but inapplicable
	Eg Zip Code for irish addresses
2. Missing but applicable
	Eg employee DOB empty
		- unknown or known but absent?

##### Guideline 3
Avoid placing attributes in a relation schema whose values may frequently be NULL
- – If NULLs are unavoidable, ensure they apply in exceptional cases and not the majority of tuples

If you want to exclude a value from a table, create an extra table

###### Violation of Guideline 3
15% of employees have an office, then including an Office_Number attribute in the EMPLOYEE relation would violate guideline 3

1. Create EMPLOYEE_OFFICE relation
2. Just has primary key of employee and office number
3. Tuple for each employee with office

#### 4. Generation of Spurious Tuples
- Joins across relations should only be performed on *Primary Key*-*Foreign Key* pairs
- If joins are performed on attributes which are not a Primary Key – Foreign Key pairing, spurious tuples are generated as a result
- represent information which is not valid

##### Guideline 4
Design relation schemas so that they can be joined using equality conditions on primary key, foreign key pairs
- Guarantees no spurious tuples generated by join

Avoid relations that contain matching attributes that are not foreign key, primary key combinations

[[CSU34041 - 08b Design Opt using Functional Dependencies and Normalisation.pdf]]
## Introduce Design Optimisation
We've discussed database design
1. Formal Relational Model
2. Entity Relationship Model (+diagram)
3. Mapping to logical database design

Look at functional dependecy to assess

### Functional Dependencies to optimise your relational model
Formal tool for analysing relational schemas
- Enables the designer to detect and describe the problems described in the previous lecture in more precise terms
- Main tool for measuring the appropriateness of groupings of attributes into relations

## Functional Dependency Defintion
A functional dependency is a constraint between two sets of attributes

1. Suppose our relational database schema has n attributes - A1,A2,...,An
2. Full database described by single universal relation R={A1,A2,...,An}
3. Functional dependency, denoted by $X \rightarrow Y$ 
4. Sepcifies a contraint on possible tuples that can form a relation state r of R
	- Between two sets of attributes  X and Y
	- X and y are subsets of R
- ![[Pasted image 20230322164251.png]]
- ![[Pasted image 20230322164300.png]]
- ![[Pasted image 20230322164309.png]]
### Note
![[Pasted image 20230322164332.png]]

Honestly just look at the slides for this one L
## Normalisation

## 1NF, 2NF, 3NF

## Superkeys

## Boyce-Codd Normal Form (BCNF)



